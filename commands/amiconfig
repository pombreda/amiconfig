#!/usr/bin/python
#
# Copyright (c) 2007-2008 rPath, Inc.
#

import sys
from amiconfig import AMIConfig

if len(sys.argv) == 2 and sys.argv[1] == '--debug':
    debug = True
else:
    debug = False

try:
    from conary.lib import util
    sys.excepthook = util.genExcepthook(debug=debug)
except ImportError:
    pass

from amiconfig.lib import log
from conary.lib import log as clog
clog.setVerbosity(clog.DEBUG)
clog.syslog = log.info
clog.debug = log.info

amiConfig = AMIConfig(debug=debug)
sys.exit(amiConfig.configure())
